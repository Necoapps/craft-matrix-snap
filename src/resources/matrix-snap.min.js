!function(a){a.Craft&&a.jQuery&&(Craft.MatrixSnapPlugin={checkMode:function(){$('input[name="revisionId"], input[value="elements/revert"]').length||Craft.MatrixSnapPlugin.init()},init:function(){$(".matrixblock").addClass("is-faux-collapsed"),Craft.MatrixSnapPlugin.prepareToCollapseAll(0)},prepareToCollapseAll:function(a){var t,l;10<++a?$(".matrixblock").removeClass("is-faux-collapsed"):(l=t=0,$(".matrixblock").each(function(){t++,$(this).data("block")&&l++}),t==l?(Craft.MatrixSnapPlugin.attachClickEvents(),Craft.MatrixSnapPlugin.collapseAll()):setTimeout(function(){Craft.MatrixSnapPlugin.prepareToCollapseAll(a)},250))},attachClickEvents:function(){$("body").on("click",".matrixblock .titlebar",function(){var a=$(this).closest(".matrixblock");Craft.MatrixSnapPlugin.deselectCheckboxes(a),a.is(".velocity-animating")||Craft.MatrixSnapPlugin.toggle(a)})},deselectCheckboxes:function(a){a.closest(".blocks").data("select").deselectAll()},toggle:function(a){var t=a.data("block").$actionMenu,l="expand";a.is(".collapsed")||(l="collapse"),$('a[data-action="'+l+'"]',t).click()},collapseAll:function(){$(".matrixblock").each(function(){var a=$(this),t=a.data("block").$actionMenu;$('a[data-action="collapse"]',t).click(),setTimeout(function(){a.removeClass("is-faux-collapsed")},200)})}},Craft.MatrixSnapPlugin.checkMode())}(window);